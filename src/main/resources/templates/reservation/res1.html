<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비트포비아 던전 예약하기</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery 라이브러리 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // hongdae 버튼 클릭 시 AJAX 요청을 보내는 이벤트 핸들러
            $("#hongdae").click(function() {
                $.ajax({
                    url: '/api/res1', // 데이터 요청 URL
                    type: 'GET', // HTTP 메서드
                    success: function(data) {
                        let PopCafe = $("#PopCafe");
                        PopCafe.empty(); // 기존 내용 삭제

                        // 서버에서 받은 던전 데이터를 HTML로 변환하여 추가
                        data.forEach(function(reservation) {

                            let res1Html = `
                                <div class="col-3">
                                    <div class="d-flex">
                                        <div class="d-flex flex-column align-items-center">
                                            <img src="${PopCafe.PopImg}" style="width: 180px;" alt="사진">
                                            <strong>${mainThemePop.title}</strong>
                                            <p>${mainThemePop.synopsis}</p>
                                        </div>
                                        <ul class="d-flex col-6 list-unstyled text-center my-5 p-4">
                                            <li class="border solid 1px m-3 p-2"><a href="res2.html" class="time-link">12:00</a></li>
                                        </ul>
                                    </div>
                                </div>`;
                            PopCafe.append(re1Html); // 컨테이너에 추가
                        });
                    },
                    error: function(xhr, status, error) {
                        console.error("AJAX 요청 실패:", error); // 에러 발생 시 로그 출력
                    }
                });
            });
        });
    </script>
</head>
<body>
<div id="container">
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-3 bg-secondary bg-opacity-25" id="all">
                <h4 class="text-center mb-5 p-4"><b>RESERVATION</b></h4>
                <div class="container mt-5">
                    <div class="row">
                        <ul class="list-group center mb-5 p-4">
                            <li class="list-group-item">
                                <!-- 서울 버튼, 클릭 시 AJAX 요청을 보냅니다. -->
                                <button type="button" class="list-group-btn" id="seoulButton">서울</button>
                            </li>
                            <!-- 다른 위치 버튼 추가 가능 -->
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <div class="container text-center">
                    <div class="row row-cols-3">
                        <div class="col-3" style="background-color: chocolate;">예약하기</div>
                        <div class="col-3">예약정보입력</div>
                        <div class="col-3">결제하기</div>
                        <div class="col-3">예약완료</div>
                    </div>
                    <br><br>
                </div>
                <!-- 던전 데이터가 동적으로 추가될 컨테이너 -->
                <div id="dungeonsContainer" class="row">
                    <!-- 던전 목록이 여기에 추가됩니다. -->
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <h3>입장 제한 및 환불불가 안내</h3>
        <div>
            <ul>
                <li><b>1.지각 및 NO SHOW</b>
                    <p>테마는 시간대 별 예약으로 진행되어, 최소 테마 시작 10분 전 도착하여야 합니다. NO SHOW(불참)의 경우 환불 불가합니다.</p>
                </li>
                <li><b>2. 과도한 음주자</b>
                    <p>과도한 음주 후 플레이는 입장이 제한될 수 있습니다.</p>
                </li>
                <li><b>3. 폐쇄공포증 및 심장 질환자, 임산부</b>
                    <p>게임 진행 공간은 해당 테마에 맞춰 최대한 리얼리티를 살리도록 설계 되었습니다.</p>
                    <p>경우에 따라 공간이 폐쇄되어 갇히거나 놀라는 연출이 있을 수 있으므로 관련된 질병이나 신체 장애가 있는 분들은 예약 전 각 매장으로 문의 부탁드립니다.</p>
                </li>
            </ul>
        </div>
    </div>
</div>
</body>
</html>
